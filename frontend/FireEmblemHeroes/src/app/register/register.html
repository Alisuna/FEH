<mat-card>
  <mat-card-header>
    <div mat-card-avatar class=""></div>
    <mat-card-title>Register</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="form" (ngSubmit)="register()">
      <p>
        <mat-form-field appearance="outline" subscriptSizing="fixed">
          <mat-label>Username</mat-label>
          <input matInput formControlName="username" placeholder="">
          @if (username?.hasError('required') && (username?.invalid && (username?.dirty || username?.touched))) {
            <mat-error>Username is required</mat-error>
          }
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="outline" subscriptSizing="fixed">
          <mat-label>Password</mat-label>
          <input matInput formControlName="password" [type]="hide() ? 'password' : 'text'" placeholder="Enter password" />
          <button matIconButton matSuffix type="button" (click)="clickEvent($event)" >
          @if(hide()) {
            <mat-icon>visibility</mat-icon>
          } @else {
            <mat-icon>visibility_off</mat-icon>
          }
          </button>
            @if (password?.hasError('required') && (password?.invalid && (password?.dirty || password?.touched))) {
              <mat-error>Password is required</mat-error>
            }
            @if (password?.hasError('minlength') && (password?.invalid && (password?.dirty || password?.touched))) {
              <mat-error>Password has to be atleast 8 characters</mat-error>
            }
            @if (password?.hasError('pattern') && (password?.invalid && (password?.dirty || password?.touched))) {
              <mat-error>Atleast one number</mat-error>
            }
        </mat-form-field>
      </p>
      <div class="button-group">
        <button matButton="filled" type="submit" [disabled]="form.invalid">Submit</button>
        <button matButton="filled" (click)="login()">Login</button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
