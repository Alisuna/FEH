<mat-card>
  <mat-card-header>
    <div mat-card-avatar class=""></div>
    <mat-card-title>Create a new Hero</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Type</mat-label>
          <mat-select formControlName="type" required>
            <mat-option [value]="HeroType.RED">RED</mat-option>
            <mat-option [value]="HeroType.BLUE">BLUE</mat-option>
            <mat-option [value]="HeroType.GREEN">GREEN</mat-option>
          </mat-select>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="outline" subscriptSizing="fixed">
          <mat-label>Level</mat-label>
          <input matInput formControlName="level" placeholder="" type="number">
          @if (level?.hasError('required') && (level?.invalid && (level?.dirty || level?.touched))) {
            <mat-error>Level is required</mat-error>
          }
          @if ((level?.hasError('min') || level?.hasError('max')) && (level?.invalid && (level?.dirty || level?.touched))) {
            <mat-error>Level needs to be between 1 and 40</mat-error>
          }
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" placeholder="">
          @if (name?.hasError('required') && (name?.invalid && (name?.dirty || name?.touched))) {
            <mat-error>Name is required</mat-error>
          }
          @if ((name?.hasError('minlength') || name?.hasError('maxlength')) && (name?.invalid && (name?.dirty || name?.touched))) {
            <mat-error>Name needs to be between 3 and 20 characters</mat-error>
          }
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Hitpoints</mat-label>
          <input matInput formControlName="hp" placeholder="" type="number">
          @if (hp?.hasError('required') && (hp?.invalid && (hp?.dirty || hp?.touched))) {
            <mat-error>Hitpoints are required</mat-error>
          }
          @if ((hp?.hasError('min') || hp?.hasError('max')) && (hp?.invalid && (hp?.dirty || hp?.touched))) {
            <mat-error>hp needs to be between 1 and 100</mat-error>
          }
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Attack</mat-label>
          <input matInput formControlName="atk" placeholder="" type="number">
          @if (atk?.hasError('required') && (atk?.invalid && (atk?.dirty || atk?.touched))) {
            <mat-error>Attack is required</mat-error>
          }
          @if ((atk?.hasError('min') || atk?.hasError('max')) && (atk?.invalid && (atk?.dirty || atk?.touched))) {
            <mat-error>Attack needs to be between 1 and 100</mat-error>
          }
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Speed</mat-label>
          <input matInput formControlName="spd" placeholder="" type="number">
          @if (spd?.hasError('required') && (spd?.invalid && (spd?.dirty || spd?.touched))) {
            <mat-error>Speed is required</mat-error>
          }
          @if ((spd?.hasError('min') || spd?.hasError('max')) && (spd?.invalid && (spd?.dirty || spd?.touched))) {
            <mat-error>Speed needs to be between 1 and 100</mat-error>
          }
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Defence</mat-label>
          <input matInput formControlName="def" placeholder="" type="number">
          @if (def?.hasError('required') && (def?.invalid && (def?.dirty || def?.touched))) {
            <mat-error>Defence is required</mat-error>
          }
          @if ((def?.hasError('min') || def?.hasError('max')) && (def?.invalid && (def?.dirty || def?.touched))) {
            <mat-error>Defence needs to be between 1 and 100</mat-error>
          }
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="outline">
          <mat-label>Resistance</mat-label>
          <input matInput formControlName="res" placeholder="" type="number">
          @if (res?.hasError('required') && (res?.invalid && (res?.dirty || res?.touched))) {
            <mat-error>Resistance is required</mat-error>
          }
          @if ((res?.hasError('min') || res?.hasError('max')) && (res?.invalid && (res?.dirty || res?.touched))) {
            <mat-error>Resistance needs to be between 1 and 100</mat-error>
          }
        </mat-form-field>
      </p>
      <button matButton="filled" type="submit" [disabled]="form.invalid">Submit</button>
    </form>
  </mat-card-content>
</mat-card>
